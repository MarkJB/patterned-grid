(()=>{"use strict";const t=function(){function t(t,e,r){void 0===t&&(t=!0),void 0===e&&(e=100),void 0===r&&(r=10),this.showArcs=t,this.tileSize=e,this.numberOfLines=r,this.element=this.createTileElement()}return t.prototype.createTileElement=function(){var t=this,e=document.createElementNS("http://www.w3.org/2000/svg","g");e.setAttribute("class","tile");var r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("viewBox","0 0 100 100"),r.setAttribute("width","100"),r.setAttribute("height","100");var n=document.createElementNS("http://www.w3.org/2000/svg","g");e.appendChild(n);for(var i=function(t,e){var r=t/e;console.log("CalcRadii, size",t,"quantity",e,"spacing",r);for(var n=[],i=0;i<=e;i++)n.push(0+i*r);return n}(this.tileSize,this.numberOfLines),o=0,a=i;o<a.length;o++){var s=a[o],l=this.createLine(s,"horizontal");n.appendChild(l)}if(this.showArcs){var c={x:0,y:0},u=i[i.length-1];Array.from(n.querySelectorAll("line")).forEach((function(e){var r={x:parseFloat(e.getAttribute("x1")),y:parseFloat(e.getAttribute("y1"))},n={x:parseFloat(e.getAttribute("x2")),y:parseFloat(e.getAttribute("y2"))},i=t.lineArcIntersection(r,n,c,u);i?(console.log("Intersection found",i),e.setAttribute("x1",String(i.x)),e.setAttribute("y1",String(i.y))):console.log("No intersection found")}));for(var h=0,d=i;h<d.length;h++){s=d[h];var g=this.createArc(0,0,s,0,90);e.appendChild(g)}}return e},t.prototype.createLine=function(t,e){console.log("Creating a single line with direction",e,"and length",t);var r=document.createElementNS("http://www.w3.org/2000/svg","g"),n=document.createElementNS("http://www.w3.org/2000/svg","line");return"horizontal"===e?(n.setAttribute("x1","0"),n.setAttribute("y1",String(t)),n.setAttribute("x2","100"),n.setAttribute("y2",String(t))):(n.setAttribute("x1",String(t)),n.setAttribute("y1","0"),n.setAttribute("x2",String(t)),n.setAttribute("y2","100")),n.setAttribute("stroke","black"),n.setAttribute("stroke-width","1"),r.appendChild(n),r},t.prototype.createArc=function(t,e,r,n,i){var o=this.polarToCartesian(t,e,r,n),a=this.polarToCartesian(t,e,r,i),s=document.createElementNS("http://www.w3.org/2000/svg","path"),l=i-n<=180?"0":"1",c=["M",o.x,o.y,"A",r,r,0,l,1,a.x,a.y].join(" ");return s.setAttribute("d",c),s.setAttribute("fill","none"),s.setAttribute("stroke","black"),s.setAttribute("stroke-width","1"),s},t.prototype.polarToCartesian=function(t,e,r,n){var i=n*Math.PI/180;return{x:t+r*Math.cos(i),y:e+r*Math.sin(i)}},t.prototype.lineArcIntersection=function(t,e,r,n){var i=e.x-t.x,o=e.y-t.y,a=Math.sqrt(i*i+o*o),s=t.x*e.y-e.x*t.y,l=n*n*a*a-s*s;if(l<0)return null;var c=o<0?-1:1,u=(s*o-c*i*Math.sqrt(l))/(a*a),h=(-s*i-Math.abs(o)*Math.sqrt(l))/(a*a),d=(s*o+c*i*Math.sqrt(l))/(a*a),g=(-s*i+Math.abs(o)*Math.sqrt(l))/(a*a);return Math.hypot(t.x-u,t.y-h)<Math.hypot(t.x-d,t.y-g)?{x:u,y:h}:{x:d,y:g}},t}();var e=document.getElementById("grid"),r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("viewBox","0 0 ".concat(1200," ").concat(1e3)),r.setAttribute("width","100%"),r.setAttribute("height","100%"),r.setAttribute("xmlns","http://www.w3.org/2000/svg"),null==e||e.appendChild(r);for(var n=0;n<10;n++)for(var i=0;i<12;i++){var o=90*Math.floor(4*Math.random()),a=(Math.random(),(new t).element);a.setAttribute("transform","translate(".concat(100*i," ").concat(100*n,") rotate(").concat(o," 50 50)")),null==r||r.appendChild(a)}var s=document.getElementById("download-svg");s&&s.addEventListener("click",(function(){var t=(new XMLSerializer).serializeToString(r),e=new Blob([t],{type:"image/svg+xmlcharset=utf-8"}),n=URL.createObjectURL(e),i=document.createElement("a");i.href=n,i.download="generated-image.svg",document.body.appendChild(i),i.click(),document.body.removeChild(i)}))})();
//# sourceMappingURL=bundle.js.map